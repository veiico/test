<form *ngIf="!isPlatformServer" [formGroup]="deliveryForm" (ngSubmit)="onSubmit(deliveryForm.value)" class="login-form">
    <div class="checkout_card">
        <div>
            <div class="chk_inr_hdng">
                <img src="assets/img/delivery-heading.svg" aria-hidden="true" />
                <p class="chk_inr_hdng_txt text-capitalize" *ngIf="terminology">{{ languageStrings.delivery_details || 'Delivery Details'}}</p>
            </div>
            <div class="chk_cnt_div chk_form no-gutter m0">

                <div class="chk_form_col" *ngFor="let data  of templateData;" [ngSwitch]="data.data_type" [ngClass]="{'hide':(data.app_side === '2' || data.app_side === '0' || data.data_type ==='Checklist' || data.display_name === 'Task Details' || data.display_name === 'subtotal'|| data.display_name === 'latest delivery by time')}">

                    <div *ngIf="data.data_type ==='Barcode' || data.data_type === 'Text'">
                        <label class="chk-lable" [for]="data.label" >{{data.display_name}}</label><br>
                        <div class="chk_hidden_space cf-col">
                            <input autocomplete="off" [id]="data.label" [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}"
                                class="chk-input" type="text" placeholder=" {{  (languageStrings.enter || 'Enter') + ' ' + data.display_name.toLowerCase()  || ('Enter' + ' ' + data.display_name.toLowerCase()) }} "
                                [formControlName]="data.label" [class.half-opacity]="data.app_side==='0'" (keydown)="checkRead(data.app_side,$event)" />
                            <app-control-messages [control]="deliveryForm.controls[data.label]"></app-control-messages>
                        </div>
                    </div>
                    <div *ngSwitchCase="'Number'">
                        <label class="chk-lable" [for]="data.label">{{data.display_name}}</label><br>
                        <div class="chk_hidden_space cf-col">
                            <input autocomplete="off" [id]="data.label" (keydown)="checkRead(data.app_side,$event)" [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}"
                                class="chk-input" type="text" placeholder=" {{  (languageStrings.enter || 'Enter') + ' ' + data.display_name.toLowerCase()  || ('Enter' + ' ' + data.display_name.toLowerCase()) }} "
                                [formControlName]="data.label" [class.half-opacity]="data.app_side==='0'" appNumberOnly />
                            <app-control-messages [control]="deliveryForm.controls[data.label]"></app-control-messages>
                        </div>
                    </div>
                    <div *ngSwitchCase="'deliveryAddress'">
                        <label class="chk-lable" aria-hidden="true">{{data.display_name}}</label><br>
                        <div class="chk_hidden_space cf-col">
                            <app-jw-google-autocomplete [ngStyle]="{ 'direction' : direction }" [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}"
                                class="chk-input" type="text" placeholder="{{formSettings && formSettings.terminology ? formSettings.terminology['DELIVER_TO'] : ( terminology.ADDRESS || 'Address') }}"
                                autocorrect="off" autocapitalize="off" spellcheck="off" [formControlName]="data.label"   (latLng)="onLatLngEvent($event,deliveryForm.controls[data.label])" (modelChange)="clearLatLng()"></app-jw-google-autocomplete>
                            <!-- <input [ngStyle]="{ 'direction' : direction }" [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}"
                                class="chk-input" type="text" placeholder="{{formSettings && formSettings.terminology ? formSettings.terminology['DELIVER_TO'] : langJson['Address']}}" autocorrect="off" autocapitalize="off"
                                spellcheck="off" type="text" #deliverySearch [formControlName]="data.label" /> -->
                            <app-control-messages [control]="deliveryForm.controls[data.label]"></app-control-messages>
                        </div>

                    </div>
                    <div *ngSwitchCase="'selfpickupAddress'">
                        <label class="chk-lable" [for]="data.label">{{data.display_name}}</label><br>
                        <div class="chk_hidden_space cf-col">
                            <input [ngStyle]="{ 'direction' : direction }" [id]="data.label" [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}"
                                class="chk-input" type="text" [placeholder]="(formSettings && formSettings.terminology) ? formSettings.terminology['SELF_PICKUP_FROM'] : 'Pickup From'" autocorrect="off"
                                autocapitalize="off" spellcheck="off" type="text" [formControlName]="data.label" />
                            <app-control-messages [control]="deliveryForm.controls[data.label]"></app-control-messages>
                        </div>

                    </div>
                    <div *ngSwitchCase="'Telephone'">
                        <label class="chk-lable" [for]="data.label">{{data.display_name}}</label><br>
                        <div class="chk_hidden_space cf-col">
                            <div class="user-contact" [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}">
                                <app-drop-down-list [list]="countries" (updateValue)="updatCC($event,data.label)"
                                    [(childStatus)]="childStatus"></app-drop-down-list>
                                <input autocomplete="off" [id]="data.label" class="chk-input" type="text" [ngStyle]="{ 'direction' : direction }"
                                     placeholder="{{languageStrings.enter_phone_number || 'Enter phone number'}}" [formControlName]="data.label"
                                    [class.half-opacity]="data.app_side==='0'" (keydown)="checkRead(data.app_side,$event)"
                                    appNumberOnly />
                            </div>
                            <app-control-messages [control]="deliveryForm.controls[data.label]"></app-control-messages>
                        </div>
                    </div>


                    <div *ngSwitchCase="'Email'">
                        <label class="chk-lable" [for]="data.label">{{data.display_name}}</label><br>
                        <div class="chk_hidden_space cf-col">
                            <input autocomplete="off" [id]="data.label" [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}"
                                class="chk-input" type="email" placeholder=" {{  (languageStrings.enter || 'Enter') + ' ' + data.display_name.toLowerCase()  || ('Enter' + ' ' + data.display_name.toLowerCase()) }} "
                                [formControlName]="data.label" [class.half-opacity]="data.app_side==='0'" (keydown)="checkRead(data.app_side,$event)"
                                no-space />
                            <app-control-messages [control]="deliveryForm.controls[data.label]"></app-control-messages>
                        </div>
                    </div>

                    <div *ngSwitchCase="'Dropdown'">
                        <label class="chk-lable" [for]="data.label">{{data.display_name}}</label><br>
                        <div class="chk_hidden_space cf-col" [ngStyle]="{ 'direction' : direction }">
                            <select [id]="data.label" class="chk-input" [formControlName]="data.label" [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}">
                                <option value="" style="display:none;">
                                    <ng-container >Select</ng-container> {{data.display_name}}
                                </option>
                                <option [attr.value]="option.value" *ngFor="let option of data.ddOptions;let oindex = index;"
                                    [attr.selected]="!oindex ? true :null">{{option.label}}</option>
                            </select>
                            <app-control-messages [control]="deliveryForm.controls[data.label]"></app-control-messages>
                        </div>
                    </div>

                    <div *ngSwitchCase="'Checklist'">
                        <label class="chk-lable">{{data.display_name}}</label><br>
                        <div class="chk_hidden_space cf-col">
                            <!-- <ng-select [multiple]="true" [allowClear]="true" [options]="data.ddOptions" [placeholder]="data.display_name" [formControlName]="data.label"
                                [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}">
                            </ng-select> -->
                            <app-control-messages [control]="deliveryForm.controls[data.label]"></app-control-messages>
                        </div>
                    </div>

                    <div *ngSwitchCase="'URL'">
                        <label class="chk-lable" [for]="data.label">{{data.display_name}}</label><br>
                        <div class="chk_hidden_space cf-col pos-rel">
                            <input autocomplete="off" [id]="data.label" [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}"
                                [formControlName]="data.label" class="chk-input" type="url" placeholder=" {{  (languageStrings.enter || 'Enter') + ' ' + data.display_name.toLowerCase()  || ('Enter' + ' ' + data.display_name.toLowerCase()) }} "
                                [class.half-opacity]="data.app_side==='0'" (keydown)="checkRead(data.app_side,$event)"
                                no-space />
                            <app-control-messages [control]="deliveryForm.controls[data.label]"></app-control-messages>
                        </div>
                    </div>

                    <div *ngIf="data.data_type === 'Date' || data.data_type === 'date' || data.data_type === 'Date-Future' || data.data_type === 'Date-Past' || data.data_type === 'Date-Time'
                                                                                || data.data_type === 'Datetime-Future' || data.data_type === 'Datetime-Past' ">
                        <label class="chk-lable" [for]="data.label">{{data.display_name}}</label><br>
                        <div class="chk_hidden_space">
                            <input autocomplete="off" [id]="data.label" (keydown)="checkRead(data.app_side,$event)" [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}"
                                class="chk-input" type="text" daterangepicker [options]="dateOptions[data.data_type.replace('-', '_')]"
                                (selected)="selectedDate($event,data.label)" readonly placeholder="Enter date" />
                        </div>
                    </div>

                    <div *ngSwitchCase="'Checkbox'">
                        <label class="chk-lable" [for]="data.label">{{data.display_name}}</label><br>
                        <div class="chk_hidden_space">
                            <input autocomplete="off" [id]="data.label" [ngClass]="{'has-error': (!deliveryForm.controls[data.label].valid && deliveryForm.controls[data.label].touched)}"
                                class="c_bx" type="checkbox" [formControlName]="data.label" [class.half-opacity]="data.app_side==='0'"
                                (keydown)="checkRead(data.app_side,$event)" />
                            <app-control-messages [control]="deliveryForm.controls[data.label]"></app-control-messages>
                        </div>
                    </div>

                    <div *ngSwitchCase="'Image'">
                        <label class="chk-lable"  [for]="data.label">{{data.display_name}}</label><br>
                        <div style="display:inline-block">
                            <input autocomplete="off" class="hidden-input" [id]="data.label" type="file" [id]="data.label" #fileUpload
                                (change)="get_img($event,data.label)" />
                            <div class="img_inpt" *ngFor="let images of imageSrc[data.label];let i = index;">
                                <img [src]="images"  [alt]="data.display_name + ' value ' + i" />
                                <div class="r-img" (click)="removeImage(data.label,i)"><i class="fa fa-times" title="remove"></i></div>
                            </div>
                            <label [for]="data.label">
                                <div class="add_img_lbl">
                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                </div>
                            </label>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>
</form>