<app-header style="height:85px;padding: 0px;" class="col-xs-12" [headerData]="appConfig"></app-header>
<div class="search-all col-xs-12" id="searchScroll" style="padding:0">
    <div class="search">
        <div>
            <div class="searchInput">

                <form [formGroup]="form">
                    <div class="inputSearch_1" [ngStyle]="{'direction': direction}">
                        <i class="fa fa-search" [ngClass]="{'searchIconRtl': direction == 'rtl', 'searchIcon': direction == 'ltr' }" appColor onlyColor="true"></i>
                        <input type="text"  placeholder="{{languageStrings.search || 'Search'}}" id="searchType" autocomplete="off" class="inputSearch_2" formControlName="searchText" [ngStyle]="{'direction': direction}" aria-label="search"/>
                        <span class="escText" (click)="goBack()">
              <img src="assets/img/cancel.svg"  alt="close search" class="crossStyle" />
              <span class="text">
                <ng-container>{{languageStrings.esc || 'ESC' }}</ng-container>
              </span>
                        </span>
                        <span class="" *ngIf="searchLoader" [ngClass]="{'loaderSRtl': direction == 'rtl', 'loaderS': direction == 'ltr' }">
              <i class="fa fa-spinner fa-spin" appColor onlyColor="true"></i>
            </span>
                        <span class="" *ngIf="clearSearch" appColor onlyColor="true" (click)="clearSearchHit()" [ngClass]="{'clearSearchRtl': direction == 'rtl', 'clearSearch': direction == 'ltr' }">
              <ng-container>{{languageStrings.clear ||'CLEAR'}}</ng-container>
            </span>
                    </div>
                </form>

            </div>
        </div>

        <div class="searchResult" *ngIf="searchTextValue && searchTextValue.length >= 2">
            <div class="tabs" id="tab-fix">
                <a class="tab_1 active" id="tab_1" *ngIf="terminology" (click)="searchTextHit()">
          {{terminology.STORE}}
          <span class="ss" [style.background]="config.color"></span>
        </a>
                <a class="tab_1" id="tab_2" *ngIf="terminology" (click)="searchTextHit('isProduct')">
                    <ng-container>{{terminology.PRODUCT}}</ng-container>
                    <span class="ss" [style.background]="config.color"></span>
                </a>
                <a class="btn pull-right" mat-button appColor hoverbgSimple="true" *ngIf="terminology && cartDataPresent" (click)="checkToGo()">{{terminology.CHECKOUT}}</a>
            </div>

            <div class="listShow" id="list-fix">
                <div id="stores">
                    <!--*ngIf="showStoreProduct"-->
                    <div class="storeView" *ngIf="searchData && searchData.length && showStoreProduct">
                        <div class="row">
                            <div class="col-lg-6 col-sm-6 col-xs-12 col-md-6" *ngFor="let store of searchData">
                                <div class="card" (click)="navigate(store)">
                                    <div class="card_inner">
                                        <div class="card_image">
                                            <img class="card_image_view" [src]="store.thumb_url || store.logo || 'assets/img/image-placeholder.svg'"
                                            [alt]="store.store_name + ' image'">
                                            <div class="closedView" *ngIf="!hideClosedPreorder">
                                                <p *ngIf="store.available == 0" class="closed">{{languageStrings.closed || 'Closed'}}</p>
                                                <p *ngIf="store.available == 0 && store.scheduled_task == 1" class="preorder">{{languageStrings.preorder||'Preorder'}}</p>
                                            </div>
                                        </div>
                                        <div class="card_right">
                                            <p class="card_heading" [style.color]="config ? config.color: ''" [ngClass]="{'marginBottomStore':!store.description, 'marginBZero':store.description}">{{store.store_name}}</p>
                                            <p class="card_description marginBottomStore" *ngIf="store.description" [tooltip]="store.description?store.description:''">{{store.description}}</p>
                                            <p class="card_distance marginBottomStore" [tooltip]="store.display_address ? store.display_address : store.address">
                                                <span *ngIf="store.distance"> {{store.distance}} &nbsp;&nbsp;-&nbsp;&nbsp;</span>{{store.display_address?store.display_address:store.address }}
                                            </p>
                                            <div *ngIf="config.delivery_by_merchant">
                                                <!-- Merchant as Delivery Manager -->
                                                <div>
                                                    <p class="card_description marginBottomStore">{{terminology.DELIVERY || 'Delivery'}} <ng-container>{{languageStrings.by || 'By' }}</ng-container>
                                                        <ng-container  *ngIf="!store.merchant_as_delivery_manager">{{terminology.AGENT || 'Agent'}}</ng-container>
                                                        <ng-container  *ngIf="store.merchant_as_delivery_manager">{{terminology.MERCHANT || 'Merchant'}}</ng-container>
                                                    </p>
                                                </div>
                                            </div>
                                            <p class="card_address marginBottomDescription" *ngIf="store.merchantMinimumOrder">
                                                <ng-container>{{languageStrings.minimum_order || 'Minimum Order'}}</ng-container>: {{((config.is_multi_currency_enabled && store.payment_settings &&store.payment_settings.symbol) ? store.payment_settings.symbol : currency) + '' + (store.merchantMinimumOrder |decimalConfig) }}</p>
                                            <div class="pull-left hidden-xs visible-sm visible-md visible-lg" *ngIf="config.is_review_rating_enabled && store.store_rating != 0" aria-hidden="false" style="margin-left:-5px;">
                                                <!--style="background:#ffc058 !important" ratingDivRestaurant-->
                                                <star-rating-comp [readOnly]="true" [rating]="store.store_rating?store.store_rating:0" [showHalfStars]="true" [starType]="'svg'"></star-rating-comp>
                                            </div>
                                            <div class="pull-left hidden-lg hidden-sm hidden-md visible-xs" *ngIf="config.is_review_rating_enabled && store.store_rating != 0" aria-hidden="false" style="margin-left:-5px;margin-top: -10px;">
                                                <!--style="background:#ffc058 !important" ratingDivRestaurant-->
                                                <star-rating-comp [readOnly]="true" [rating]="store.store_rating?store.store_rating:0" [size]="'small'" [showHalfStars]="true" [starType]="'svg'"></star-rating-comp>
                                            </div>
                                            <p class="card_description marginBottom" *ngIf="config.is_review_rating_enabled && store.store_rating == 0">
                                                <ng-container>{{languageStrings.no_rating_yet ||'No Rating Yet'}}</ng-container>
                                            </p>
                                            <div class="clearfix"></div>
                                            <a (click)="navigate(store)">
                                                <p class="viewMenu">
                                                    {{languageStrings.view_menu ||'View Menu'}} &nbsp;&nbsp;
                                                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                                                </p>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="noSearchResult" *ngIf="isAlreadySearch['searchedMerchant'] && showStoreProduct && searchData && !searchData.length">
                        <h3>
                            <ng-container>{{languageStrings.no_search_result_found || 'No search result found.'}}</ng-container>
                        </h3>
                        <p>
                            <ng-container>{{languageStrings.please_try_different_search ||'Please try different search.'}}</ng-container>
                        </p>
                    </div>
                </div>

                <div id="products" style="margin-bottom: 10px;" >
                    <!-- *ngIf="!showStoreProduct" -->
                    <ng-container *ngIf= "searchData && searchData.length && !showStoreProduct">
                        <div class="productView" *ngFor="let storeList of searchData;let storeIndex = index;">
                            <div class="storeDetails" (click)="navigate(storeList)">
                                <div class="storeName" [style.color]="config ? config.color: ''">
                                    {{storeList.store_name}}
                                    <span class="pull-right seeMenuText">{{languageStrings.view_menu ||'View Menu'}}</span>
                                </div>
                                <div class="storeAddress">
                                    <span *ngIf="storeList.distance"> {{storeList.distance}} &nbsp;&nbsp;-&nbsp;&nbsp;</span>{{storeList.display_address?storeList.display_address:storeList.address }}
                                </div>
                                <div class="storeMinimumOrder" *ngIf="storeList.merchantMinimumOrder">
                                    <ng-container>{{languageStrings.minimum_order || 'Minimum Order'}}</ng-container>: {{((config.is_multi_currency_enabled && storeList.payment_settings &&storeList.payment_settings.symbol) ? storeList.payment_settings.symbol : currency) + '' + (storeList.merchantMinimumOrder |decimalConfig) }}
                                </div>
                                <!-- Merchant as Delivery Manager -->
                                <div class="storeMinimumOrder" *ngIf="config.delivery_by_merchant">
                                    <div class="card_address">
                                    <p style='margin: 4px 0;'>{{terminology.DELIVERY || 'Delivery'}} <ng-container>{{languageStrings.by ||'By'}}</ng-container>
                                    <ng-container  *ngIf="!storeList.merchant_as_delivery_manager">{{terminology.AGENT || 'Agent'}}</ng-container>
                                    <ng-container  *ngIf="storeList.merchant_as_delivery_manager">{{terminology.MERCHANT || 'Merchant'}}</ng-container>
                                    </p>
                                    </div>
                                </div>
                                <div class="pull-left" *ngIf="config.is_review_rating_enabled && storeList.store_rating != 0" aria-hidden="false" style="margin-left:-10px;">
                                    <!--style="background:#ffc058 !important" ratingDivRestaurant-->
                                    <star-rating-comp [readOnly]="true" [rating]="storeList.store_rating?storeList.store_rating:0" [showHalfStars]="true" [size]="'medium'" [starType]="'svg'"></star-rating-comp>
                                </div>
                            </div>
                            <div class="product_1">
                                <div class="cls-p-cnt-div" style="position:relative" [style.display]="product.inventory_enabled && (product.available_quantity <= 0)? (config.show_outstocked_product?'flex':'none') : 'flex'" *ngFor="let product of storeList.product_list;let i = index;">
                                    <div class="p-detail-main-img" *ngIf="product.layout_data.images[0].size !== 4" (click)="showLightBox(product)"> <!-- && product.products_has_image == 1 -->
                                        <img [ngStyle]="{'cursor':(product.multi_image_url || product.multi_video_url)?(((product.multi_image_url && product.multi_image_url.length > 0) || (product.multi_video_url && product.multi_video_url.length > 0))? 'pointer':'default'):'default'}" [src]="product.thumb_url ? product.thumb_url : 'assets/img/image-placeholder.svg'"
                                        [alt]="product.name + ' image'">
                                    </div>
                                    <div class="p-detail-main-div" (click) = "addon_layout_type === 1 ? addCart(product,i,storeIndex): false ">
                                        <div class="p-detail-sec">
                                            <div style="flex: 5 1 0%;word-break: break-all;" [tooltip]="product.layout_data.lines[0]?product.layout_data.lines[0].data:''">
                                                <span>{{product.layout_data.lines[0] ? product.layout_data.lines[0].data : ''}}</span>
                                            </div>

                                            <div *ngIf="!(product.inventory_enabled && (product.available_quantity <= 0)) && addon_layout_type != 1" class="p-action-btn">
                                                    <div *ngIf="product.maximum_quantity==1">
                                                            <div   [ngStyle]="{'visibility':(productBool[product.product_id]) ? 'visible':'hidden','height':(productBool[product.product_id]) ? 'auto' : '0px'}">
                                                            <button class="btn-sm addremovebtn" (click)="decreamentQuantity(product,product.product_id,i)">{{removeBtnTxt || 'Remove'}}</button>
                                                            </div>
                                                            <div *ngIf="!productBool[product.product_id]">
                                                            <button class="btn-sm addremovebtn" (click)="checkBusinessTypeBeforeAdding(product,i,storeIndex)">{{addBtnTxt || 'Add'}}</button>
                                                            </div>
                                                        </div>
                                                <div [ngStyle]="{'display':(product.layout_data && product.layout_data.buttons && (product.layout_data.buttons[0].type != 1 && product.layout_data.buttons[0].type != 4)) ? 'flex':'none'}" *ngIf="product.maximum_quantity!=1">
                                                    <div class="p-minus" (click)="decreamentQuantity(product,product.product_id,i)" [ngStyle]="{'visibility':(productBool[product.product_id]) ? 'visible':'hidden'}" appBs>
                                                        <svg width="10" height="7" viewBox="0 0 10 2">
                                <path fill="#858585" fill-rule="nonzero" d="M0 1.75h10V.25H0z" />
                            </svg>
                                                    </div>
                                                    <div [ngStyle]="{'visibility':(productBool[product.product_id]) ? 'visible':'hidden'}" class="p-quantity custom">
                                                        <span *ngIf="checkUniq(product)"></span>
                                                        <input [disabled]="!product?.isUniq" appNumberOnly maxlength="4"  aria-label="quantity" class="p-quantity inputBulkOrderClass" [(ngModel)]="productQuantity[product.product_id]" (blur)="onBlurInputFun(product,product.product_id,i,productQuantity[product.product_id])">
                                                    </div>
                                                    <div *ngIf="productBool[product.product_id] && !(product.customization ? product.customization.length != 0 : 0)" class="p-plus" [style.background-color]="config.btn_color?config.btn_color:'#1a9943'" appBs (click)="increaseQuantity(product,product.product_id,i)">
                                                        <!--appColor bg='true'-->
                                                        <svg width="11" height="11" viewBox="0 0 10 10">
                                <path fill="#FFF" fill-rule="nonzero" d="M5.765 10V5.765H10v-1.53H5.765V0h-1.53v4.235H0v1.53H4.235V10z" />
                            </svg>
                                                    </div>
                                                    <div *ngIf="productBool[product.product_id] && (product.customization ? product.customization.length != 0 : 0)" class="p-plus" [style.background-color]="config.btn_color?config.btn_color:'#1a9943'" appBs (click)="checkBusinessTypeBeforeAdding(product,i,storeIndex)">
                                                        <!--addCart(product,i) appColor bg='true'-->
                                                        <svg width="11" height="11" viewBox="0 0 10 10">
                                <path fill="#FFF" fill-rule="nonzero" d="M5.765 10V5.765H10v-1.53H5.765V0h-1.53v4.235H0v1.53H4.235V10z" />
                            </svg>
                                                    </div>
                                                    <div *ngIf="!productBool[product.product_id]" class="p-plus" (click)="checkBusinessTypeBeforeAdding(product,i,storeIndex)" [style.background-color]="config.btn_color?config.btn_color:'#1a9943'" appBs>
                                                        <!--addCart(product,i)  appColor bg='true'-->
                                                        <svg width="11" height="11" viewBox="0 0 10 10">
                                <path fill="#FFF" fill-rule="nonzero" d="M5.765 10V5.765H10v-1.53H5.765V0h-1.53v4.235H0v1.53H4.235V10z" />
                            </svg>
                                                    </div>
                                                </div>

                                                <div [ngStyle]="{'display':(product.layout_data && product.layout_data.buttons && (product.layout_data.buttons[0].type == 1 || product.layout_data.buttons[0].type == 4)) ? 'flex':'none'}">
                                                    <div class="p-minus t-btn" style="height:28px !important;line-height: 23px;" (click)="decreamentQuantity(product,product.product_id,i)" [ngStyle]="{'display':(productBool[product.product_id]) ? 'flex':'none'}" appBs>
                                                        {{storeList.button_type && storeList.button_type.button_names ? storeList.button_type.button_names.remove : 'Remove' }}
                                                    </div>
                                                    <div *ngIf="!productBool[product.product_id]" style="height:28px !important;" class="p-plus t-btn" [style.background-color]="config.btn_color?config.btn_color:'#1a9943'" appBs (click)="checkBusinessTypeBeforeAdding(product,i,storeIndex)">
                                                        <!--addCart(product,i) appColor bg='true'-->
                                                        {{storeList.button_type && storeList.button_type.button_names ? storeList.button_type.button_names.add : 'Add' }}
                                                    </div>
                                                </div>

                                            </div>
                                            <div *ngIf="product.inventory_enabled && (product.available_quantity <= 0)" [ngStyle]="{ 'direction' : direction }" class="p-action-stock">
                                                <ng-container>{{terminology.OUT_OF_STOCK || 'Out of Stock'}}</ng-container>
                                            </div>
                                        </div>
                                        <div class="discount-box">
                                            <div class="mr-8 discount-price" *ngIf="(config.show_product_price == 1 || product.price > 0) && product.original_price">{{((config.is_multi_currency_enabled && storeList.payment_settings &&storeList.payment_settings.symbol) ? storeList.payment_settings.symbol : currency)+' '+(product.original_price |decimalConfig)}}</div>
                                            <div class="priceText" *ngIf="config.show_product_price == 1 || product.price > 0">{{((config.is_multi_currency_enabled && storeList.payment_settings && storeList.payment_settings.symbol) ? storeList.payment_settings.symbol : currency)+' '+product.layout_data.lines[2] ? product.layout_data.lines[2].data : ''}}</div>
                                        </div>
                                        <div *ngIf="product && product.discount" class="discount-percent">{{product.discount}}%
                                            <ng-container>{{languageStrings.discount || 'Discount'}}</ng-container>
                                            <ng-container *ngIf="product.max_discount_amount">
                                            <ng-container>{{languageStrings.upto || 'Upto'}}</ng-container>
                                            {{((config.is_multi_currency_enabled && storeList.payment_settings &&storeList.payment_settings.symbol) ? storeList.payment_settings.symbol : currency) + product.max_discount_amount}}
                                            </ng-container>
                                        </div>
                                        <div *ngIf="config.show_service_time && product.service_time" class="descriptionP">
                                            <span class=""> <ng-container>{{languageStrings.service_time || 'Service Time'}}</ng-container>:  {{product.service_time | serviceTimePipe : [product.unit_type, product.unit_in_text]}}</span>
                                        </div>
                                        <div *ngIf="config.is_recurring_enabled && storeList.is_recurring_enabled && product.is_recurring_enabled" class="descriptionP">
                                            <span class="subscription-avail">
                                            <i class="fa fa-refresh" ></i> <ng-container>{{terminology.SUBSCRIPTION_AVAILABLE || 'Subscription Available'}}</ng-container>
                                        </span>
                                        </div>
                                        <div *ngIf="product.layout_data.lines[1]" class="descriptionP">
                                            <!-- <span>{{product.layout_data.lines[1] ? product.layout_data.lines[1].data : ''}}</span> -->
                                            <!-- <span [innerHTML]="product.layout_data.lines[1] ? product.layout_data.lines[1].data : ''"></span> -->
                                            <span class="pointer">
                                              <!-- {{product.layout_data.lines[1].data | truncate : 260 : '.'}} -->
                                              <span [innerHTML]="product.layout_data.lines[1].data | truncate : 260 : '.'"></span>
                                              <span class="readMore" (click)="showLightBox(product)"
                                                *ngIf="product.layout_data && product.layout_data.lines[1].data.length > 300">
                                                <ng-container>{{languageStrings.read_more || 'Read More'}}</ng-container>
                                              </span>
                                            </span>
                                          </div>
                                    </div>
                                    <div class="share-prod-div" *ngIf="config.is_product_share_enabled" (click)="productShareBox(product,storeList,i,storeIndex);$event.stopPropagation()">
                                      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 473.932 473.932" style="enable-background:new 0 0 473.932 473.932;" xml:space="preserve" width="25px" height="25px">
                                        <g>
                                          <path d="M385.513,301.214c-27.438,0-51.64,13.072-67.452,33.09l-146.66-75.002    c1.92-7.161,3.3-14.56,3.3-22.347c0-8.477-1.639-16.458-3.926-24.224l146.013-74.656c15.725,20.924,40.553,34.6,68.746,34.6    c47.758,0,86.391-38.633,86.391-86.348C471.926,38.655,433.292,0,385.535,0c-47.65,0-86.326,38.655-86.326,86.326    c0,7.809,1.381,15.229,3.322,22.412L155.892,183.74c-15.833-20.039-40.079-33.154-67.56-33.154    c-47.715,0-86.326,38.676-86.326,86.369s38.612,86.348,86.326,86.348c28.236,0,53.043-13.719,68.832-34.664l145.948,74.656    c-2.287,7.744-3.947,15.79-3.947,24.289c0,47.693,38.676,86.348,86.326,86.348c47.758,0,86.391-38.655,86.391-86.348    C471.904,339.848,433.271,301.214,385.513,301.214z" data-original="#010002" class="active-path" data-old_color="#010002"
                                          [attr.fill]="config.btn_color?config.btn_color:'#1a9943'"/>
                                        </g>
                                      </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                    <div class="noSearchResult" *ngIf="isAlreadySearch['searchedProduct']&& !showStoreProduct && searchData && !searchData.length">
                        <h3>
                            <ng-container>{{languageStrings.no_search_result_found || 'No search result found.'}}</ng-container>
                        </h3>
                        <p>
                            <ng-container>{{languageStrings.please_try_different_search || 'Please try different search.'}}</ng-container>
                        </p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>


<!-- <div class="modal fade and carousel slide" id="lightbox">
    <div class="modal-dialog">
        <div class="modal-content" style="min-height:300px;max-width: 600px;">
            <div class="modal-body">
                <ol class="carousel-indicators" *ngIf="caraouselImagesIncludingVideos.length > 1">
                    <li *ngFor="let image of caraouselImagesIncludingVideos;let i = index;" data-target="#lightbox" [attr.data-slide-to]="i" [ngClass]="{'active' : i==0}"></li>
                </ol>
                <div class="carousel-inner"  *ngIf="caraouselImagesIncludingVideos.length > 0">
                    <div *ngFor="let image of caraouselImagesIncludingVideos;let i = index;" style="height:366px;" class="item" [ngClass]="{'active' : i==0}">
                        <img *ngIf="!(image.url | checkVideo)" style="height: 100%; width: 100%; object-fit: contain; margin: 0 auto;"
                        [src]="image.url"
                        [alt]="'caraousel slide ' + i">
                        <video *ngIf="image.url | checkVideo"  class="show-video-div" [src]="image.url" controls></video>
                    </div>
                </div>
                <a *ngIf="caraouselImagesIncludingVideos.length > 1" class="left carousel-control" href="#lightbox" role="button" data-slide="prev" aria-label="go to previous slide">
                    <span style="font-family:'Glyphicons Halflings'!important;" class="glyphicon glyphicon-chevron-left"></span>
                </a>
                <a *ngIf="caraouselImagesIncludingVideos.length > 1" class="right carousel-control" href="#lightbox" role="button" data-slide="next" aria-label="go to next slide">
                    <span style="font-family:'Glyphicons Halflings'!important;" class="glyphicon glyphicon-chevron-right"></span>
                </a>
            </div>
            <div class="modal-body">
              <div class="cls-cust-main-div" style="word-break: break-word;" *ngIf="productLongDescription">
                <h4 class="text-center" i18n>Description</h4>
                <div [innerHtml]="productLongDescription" class="long_description cls-pcust-head"  style="max-height: 200px;overflow-y: auto"> </div>
               </div>
            </div>
        </div>
    </div>
</div> -->

<!-- New UI for product view -->
<div>
    <div class="modal fade in"
      *ngIf="openMultiImage"
      (esc)="hideMultiImageDialog()"
      (onClose)="hideMultiImageDialog()" class="new-modal">
      <div body>
        <!-- Cancel Button -->
        <div>
          <i class="fa fa-close  mobile-cross" (click)="hideMultiImageDialog()"></i>
          <img src="assets/img/cross-icon.svg" class="cross-Style" alt="close search" (click)="hideMultiImageDialog()"/>
        </div>
        <!-- Carousal -->
        <div class="col-12 carousel slide new-carousel"
          id="lightbox">
          <!-- Images/Videos -->
          <div class="carousel-inner">
            <div *ngFor="let image of caraouselImagesIncludingVideos;let i = index;"
              class="item"
              [ngClass]="{'active' : i==0}">
              <img *ngIf="!(image.url | checkVideo)"
                [src]="image.url"
                [alt]="'caraousel slide ' + i">
              <video *ngIf="image.url | checkVideo" class="show-video" [src]="image.url" controls></video>
            </div>
          </div>
          <!-- sliders (prev/next) -->
          <a *ngIf="caraouselImagesIncludingVideos.length > 1" class="left carousel-control" href="#lightbox" role="button" data-slide="prev" aria-label="go to previous slide">
            <i class="fa fa-angle-left" aria-hidden="true"></i>
          </a>
          <a *ngIf="caraouselImagesIncludingVideos.length > 1" class="right carousel-control" id='click-event' href="#lightbox" role="button" data-slide="next" aria-label="go to next slide">
            <i class="fa fa-angle-right" aria-hidden="true"></i>
          </a>
          <div class="bt-10" [ngClass]="{'only-description': caraouselImagesIncludingVideos && caraouselImagesIncludingVideos.length == 0}">
                        <!-- Product thumbnails -->
          <ng-container *ngIf="caraouselImagesIncludingVideos.length > 1">
            <div class="carousel-indicators image-thumb-list bt-30">
              <div *ngFor="let image of caraouselImagesIncludingVideos;let i = index;"
                data-target="#lightbox"
                [attr.data-slide-to]="i"
                class="image-div" [ngClass]="{'active' : i==0}">
                <img [src]="image.thumb_urls['250x250'] || image.thumb_urls['400x400']">
              </div>
            </div>
          </ng-container>
           <!-- Description -->
        <ng-container *ngIf="productLongDescription">
            <div class="long-description">
              <span style="word-break: normal;"
                 [innerHTML]="(showFullDescription || caraouselImagesIncludingVideos && caraouselImagesIncludingVideos.length == 0)? productLongDescription : (productLongDescription | truncate : 500 : '.')">
              </span>
              <span class="readMore" (click)="showFullDescription = true"
              *ngIf="productLongDescription.length > 500 && !showFullDescription">
              <ng-container>{{languageStrings.read_more || 'Read More'}}</ng-container>
            </span>
            </div>
          </ng-container>
            </div>
        </div>
      </div>
    </div>
  </div>
  <div class="backdrop" *ngIf="showBackdrop"></div>


<div class="modal fade and carousel slide" id="timeSelection">
    <div class="modal-dialog">
        <div class="modal-content">
            <app-product-timing [product]="productSelectedToAdd" [productIndex]="indexGot" [storeIndex]="storeIndex" (sendDataForProduct)="getSelectedTiming($event)"></app-product-timing>
        </div>
    </div>
</div>

<div class="modal fade" id="myModal" role="dialog" *ngIf="currentProduct">
    <div class="modalFlex">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title header-modal text-capitalize">{{currentProduct?.name}}</h4>
                    <div class="cls-cust-head">
                        <div class="cls-cust-n pl-25">
                            <!-- <p>{{currentProduct?.name}}</p> -->
                            <p *ngIf="config.show_product_price == 1 || currentProduct.price > 0">{{(config.is_multi_currency_enabled && currentProduct.payment_settings ? currentProduct.payment_settings.symbol : currency)+' '+currentProduct?.price}}</p>
                        </div>
                        <div class="p-action-btn" *ngIf="addon_layout_type != 1">
                            <div [ngStyle]="{'display':(currentProduct.type != 1) ? 'flex':'none'}">
                                <div class="p-minus btn-cursor" (click)="decreaseCustomizeProduct()" appBs>
                                    <svg width="10" height="7" viewBox="0 0 10 2">
                    <path fill="#858585" fill-rule="nonzero" d="M0 1.75h10V.25H0z" />
                  </svg>
                                </div>
                                <!-- <div class="p-quantity">{{currentProduct.quantity}}</div> -->
                                <div [ngStyle]="{'visibility':(currentProduct.product_id) ? 'visible':'hidden'}" class="p-quantity cust">
                                    <input appNumberOnly maxlength="4"   aria-label="quantity" [ngStyle]="{'visibility':(currentProduct.product_id) ? 'visible':'hidden'}" class="p-quantity inputBulkOrderClass" [(ngModel)]="currentProduct.quantity">
                                </div>
                                <div class="p-plus btn-cursor" (click)="increaseCustomizeProduct()" [style.background-color]="config.btn_color?config.btn_color:'#1a9943'" appBs>
                                    <!--appColor bg='true'-->
                                    <svg width="11" height="11" viewBox="0 0 10 10">
                    <path fill="#FFF" fill-rule="nonzero" d="M5.765 10V5.765H10v-1.53H5.765V0h-1.53v4.235H0v1.53H4.235V10z" />
                  </svg>
                                </div>
                            </div>
                            <div [ngStyle]="{'display':(currentProduct.type == 1) ? 'flex':'none'}">
                                <div class="p-minus btn-cursor t-btn t-btn-26 " (click)="decreaseCustomizeProduct()" appBs>
                                    {{removeBtnTxt}}
                                </div>
                            </div>

                        </div>
                    </div>
                    <div *ngIf="currentProduct.minimum_quantity>1 && (currentProduct.minimum_quantity > currentProduct.quantity)" class="cls-cust-head min_sel_error pull-right">
                        <ng-container>{{languageStrings.minimum_quantity || 'Minimum Quantity'}}</ng-container> {{currentProduct.minimum_quantity}}
                      </div>
                      <div *ngIf="currentProduct.maximum_quantity>0 && (currentProduct.maximum_quantity > currentProduct.quantity)" class="cls-cust-head min_sel_error pull-right">
                        <ng-container>{{languageStrings.maximum_quantity || 'Maximum Quantity'}}</ng-container> {{currentProduct.maximum_quantity}}
                      </div>
                </div>
                <div class="modal-body">
                    <div class="cls-cust-body">
                        <div class="cls-cust-main-div" style="word-break: break-word;" *ngIf="currentProduct.long_description">
                            <div [innerHtml]="currentProduct.long_description" class="long_description cls-pcust-head"> </div>
                        </div>
                        <div class="cls-cust-main-div" *ngFor="let custom of currentProduct.customization;let custIndex = index;">
                            <p class="cls-pcust-head">{{custom.name}}
                                <span style="font-size:10px;text-transform: none" *ngIf="!custom.is_check_box">(<ng-container>{{ languageStrings.select_any || 'Select any'}} 1</ng-container>)</span>
                                <span style="font-size:10px;text-transform: none" *ngIf="custom.is_check_box">{{(custom.minimum_selection >1) && custom.minimum_selection_required  ? '(' + languageStrings.select_any || 'Select any' + ' ' +custom.minimum_selection+')':  (languageStrings.optional || 'Optional')}}</span>

                            </p>
                            <div class="cls-cust-option" *ngFor="let option of custom.customize_options;let optionIndex = index;">
                                <div class="cls-cust-check" (click)="changeExtrasStatus(currentProduct.product_id,custom,custIndex,optionIndex,customizedObj[currentProduct.product_id].customization[custIndex].customize_options[optionIndex].is_default)">
                                    <svg width="10" height="12" viewBox="0 0 10 7" *ngIf="customizedObj[currentProduct.product_id].customization[custIndex].customize_options[optionIndex].is_default">
                    <path [attr.fill]="appConfig.color" fill-rule="nonzero" d="M3.598 6.906a.808.808 0 0 1-.561-.223L.232 3.991a.74.74 0 0 1 0-1.076.817.817 0 0 1 1.122 0l2.244 2.153L8.646.223a.817.817 0 0 1 1.122 0 .74.74 0 0 1 0 1.077l-5.61 5.383a.808.808 0 0 1-.56.223z"
                    />
                  </svg>
                                </div>
                                <div style="flex: 1 1 0%; margin-right: 10px;cursor:pointer;" (click)="changeExtrasStatus(currentProduct.product_id,custom,custIndex,optionIndex,customizedObj[currentProduct.product_id].customization[custIndex].customize_options[optionIndex].is_default)">
                                    <span>{{option.name}}</span>
                                </div>
                                <div class="txt-right" *ngIf="option.price > 0">
                                    <span><span class="optionalPrice">+</span>{{(config.is_multi_currency_enabled && currentProduct.payment_settings? currentProduct.payment_settings.symbol : currency)+' '+option.price}}</span>
                                </div>
                            </div>
                        </div>

                        <div class="cls-cust-main-div" *ngIf="appConfig.side_order && appConfig.onboarding_business_type === 804">
                            <p class="cls-pcust-head side-heading" *ngIf="sideOrderProducts && sideOrderProducts.length>0">{{languageStrings.side_order || 'Side Order'}}</p>

                            <div class="side-products" *ngFor="let product of sideOrderProducts;let i = index;">
                            <div [ngClass]="{'side-order-parent-div' : i!=0}" *ngIf="i==0 || (product.parent_category_id!=sideOrderProducts[i-1].parent_category_id)"><p class="side-order-parent">{{product.parent_category_name}}</p></div>
                               <div class="side-product-name">
                                  <div>{{product.name}}</div>
                                  <div class="p-action-btn" *ngIf="addon_layout_type != 1">

                                      <div style="display: flex;">
                                          <div class="p-minus" (click)="decreamentSideOrderQuantity(product.product_id,i)" [ngStyle]="{'visibility':(sideOrderProductBool[product.product_id]) ? 'visible':'hidden'}"
                                            appBs>
                                            <svg width="10" height="7" viewBox="0 0 10 2">
                                              <path fill="#858585" fill-rule="nonzero" d="M0 1.75h10V.25H0z" />
                                            </svg>
                                          </div>
                                          <div [ngStyle]="{'visibility':(sideOrderProductBool[product.product_id]) ? 'visible':'hidden'}" class="p-quantity cust">
                                            <span *ngIf="checkUniq(product)"></span>
                                            <input appNumberOnly maxlength="4"  aria-label="quantity" [disabled]="!product?.isUniq" [ngStyle]="{'visibility':(sideOrderProductBool[product.product_id]) ? 'visible':'hidden'}" class="p-quantity inputBulkOrderClass"
                                              [value]="sideOrderProductData[product.product_id] ? sideOrderProductData[product.product_id].quantity : 0" (blur)="onBlurSideOrderInputFun(product,product.product_id,i,$event.target.value)">
                                          </div>
                                          <div *ngIf="sideOrderProductBool[product.product_id]" class="p-plus"
                                            [style.background-color]="appConfig.btn_color?appConfig.btn_color:'#1a9943'" appBs (click)="increaseSideOrderQuantity(product,product.product_id,i)">
                                            <!--appColor bg='true'-->
                                            <svg width="11" height="11" viewBox="0 0 10 10">
                                              <path fill="#FFF" fill-rule="nonzero" d="M5.765 10V5.765H10v-1.53H5.765V0h-1.53v4.235H0v1.53H4.235V10z" />
                                            </svg>
                                          </div>
                                          <div *ngIf="!sideOrderProductBool[product.product_id]" class="p-plus"
                                            [style.background-color]="appConfig.btn_color?appConfig.btn_color:'#1a9943'" appBs (click)="addSideOrder(product,i)">

                                            <svg width="11" height="11" viewBox="0 0 10 10">
                                              <path fill="#FFF" fill-rule="nonzero" d="M5.765 10V5.765H10v-1.53H5.765V0h-1.53v4.235H0v1.53H4.235V10z" />
                                            </svg>
                                          </div>

                                      </div>
                                    </div>
                               </div>
                               <div class="side-product-detail">
                                  <span class="desc" [ngClass]="{'side-order-desc' : product.description}">{{product.description ? '(' : ''}} {{product.description}} {{product.description ? ')' : ''}}</span>
                                  <span class="amount"> {{currency + '' +product.price}}</span>
                               </div>
                               <div class="min-check w-100 min_error">
                                  <div *ngIf="sideOrderProductData[product.product_id] && sideOrderProductData[product.product_id].minimum_quantity>1 && (sideOrderProductData[product.product_id].minimum_quantity > sideOrderProductData[product.product_id].quantity)" class="w-100 text-right">
                                      <ng-container>{{languageStrings.minimum_quantity ||'Minimum Quantity'}}</ng-container> {{product.minimum_quantity}}
                                    </div>
                               </div>
                               <div class="min-check w-100 min_error">
                                <div *ngIf="sideOrderProductData[product.product_id] && sideOrderProductData[product.product_id].maximum_quantity>0 && (sideOrderProductData[product.product_id].maximum_quantity > sideOrderProductData[product.product_id].quantity)" class="w-100 text-right">
                                    <ng-container>{{languageStrings.maximum_quantity ||'Maximum Quantity'}}</ng-container> {{product.maximum_quantity}}
                                  </div>
                             </div>
                            </div>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button mat-button class="dialog-cancel btn" (click)="resetDialog()" appBs>
              <ng-container>{{languageStrings.cancel || 'Cancel'}}</ng-container>
            </button>
                        <!--[ngStyle]="{ 'direction' : direction }"-->
                        <button mat-button class="dialog-ok btn" (click)="addCustomization(0)" appColor bg="'true'" *ngIf="addBtnTxt" appBs [disabled]="currentProduct.quantity <= 0">{{addBtnTxt}}
              <ng-container>{{languageStrings.for || 'for'}}</ng-container> {{(config.is_multi_currency_enabled && currentProduct.payment_settings? currentProduct.payment_settings.symbol : currency)+' '+((currentProduct.totalPrice*currentProduct.quantity + sideOrderTotalAmount )|decimalConfig )}}</button>
                        <!--[ngStyle]="{ 'direction' : direction }"-->
                        <button mat-button class="dialog-ok btn" (click)="addCustomization(0)" appColor bg="'true'" appBs *ngIf="!addBtnTxt" [disabled]="currentProduct.quantity <= 0">
              <ng-container>{{languageStrings.add_for || 'Add for'}}</ng-container> {{(config.is_multi_currency_enabled && currentProduct.payment_settings? currentProduct.payment_settings.symbol : currency)+' '+((currentProduct.totalPrice*currentProduct.quantity + sideOrderTotalAmount) |decimalConfig ) }}</button>
                        <!--[ngStyle]="{ 'direction' : direction }"-->
                        <div class="text-center min_sel_error">
                            <span>{{minSelectAddonError}}</span>
                        </div>
                        <div class="text-center min_sel_error">
                            <span>{{minSingleSelectAddonError}}</span>
                          </div>
                        <!-- <div class="text-center min_sel_error">
                            <span>{{maxSelectAddonError}}</span>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<app-modal [modalType]="modalType"
    (esc)="resetDialog()"
    (onClose)="resetDialog()" *ngIf="currentProduct && showAddonPopup">
    <div style="padding: 20px;" body>
        <div class="productbody">
            <div class="productImage" [ngClass]="{'w-50': currentProduct.image_url , 'w-0' : !currentProduct.image_url}">
                <img [src]="currentProduct.image_url?currentProduct.image_url : 'assets/img/image-placeholder.svg'">
            </div>
            <div class="productDescription" [ngClass]="{'w-50': currentProduct.image_url , 'w-100' : !currentProduct.image_url}">
                <div class="productHeader">
                    <h2 class="modal-title header-modal text-capitalize" style="padding-left: 0px">{{currentProduct?.name}}</h2>
                    <div class="cls-cust-head" style="margin-bottom: 10px">
                        <div class="cls-cust-n pl-25 " style="padding-left: 0px">
                            <!-- <p>{{currentProduct?.name}}</p> -->
                            <p style="padding-left: 0px; font-size: 16px" *ngIf="config.show_product_price == 1 || currentProduct.price > 0">{{(config.is_multi_currency_enabled && currentProduct.payment_settings ? currentProduct.payment_settings.symbol : currency)+' '+currentProduct?.price}}</p>
                        </div>
                        <div class="p-action-btn" >
                            <div [ngStyle]="{'display':(currentProduct.type != 1) ? 'flex':'none'}">
                                <div class="p-minus btn-cursor" (click)="decreaseCustomizeProduct()" appBs>
                                    <svg width="10" height="7" viewBox="0 0 10 2">
                                        <path fill="#858585" fill-rule="nonzero" d="M0 1.75h10V.25H0z" />
                                    </svg>
                                </div>
                                <!-- <div class="p-quantity">{{currentProduct.quantity}}</div> -->
                                <div [ngStyle]="{'visibility':(currentProduct.product_id) ? 'visible':'hidden'}" class="p-quantity cust">
                                    <input appNumberOnly maxlength="4" aria-label="quantity" [ngStyle]="{'visibility':(currentProduct.product_id) ? 'visible':'hidden'}" class="p-quantity inputBulkOrderClass" [(ngModel)]="currentProduct.quantity">
                                </div>
                                <div class="p-plus btn-cursor"
                                appColor
                                bg="'true'"
                                appBs
                                mat-button
                                (click)="increaseCustomizeProduct()">
                                    <!--appColor bg='true'-->
                                    <svg width="11" height="11" viewBox="0 0 10 10">
                                        <path fill="#FFF" fill-rule="nonzero" d="M5.765 10V5.765H10v-1.53H5.765V0h-1.53v4.235H0v1.53H4.235V10z" />
                                    </svg>
                                </div>
                            </div>
                            <div [ngStyle]="{'display':(currentProduct.type == 1) ? 'flex':'none'}">
                                <div class="p-minus btn-cursor t-btn t-btn-26 " (click)="decreaseCustomizeProduct()" appBs>
                                    {{removeBtnTxt}}
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="productBody">
                    <p> {{currentProduct.long_description}} </p>
                </div>
                <div class="cls-cust-main-div"
                    *ngFor="let custom of currentProduct.customization;let custIndex = index;">
                    <p class="cls-pcust-head" style="color: #000000;opacity: 1;">{{custom.name | truncate : 100 : '.'}}
                        <span style="font-size:12px;text-transform: none"
                            *ngIf="!custom.is_check_box">(<ng-container>{{languageStrings.select_any || 'Select any'}} 1</ng-container>)</span>
                        <span style="font-size:12px;text-transform: none"
                            *ngIf="custom.is_check_box">{{(custom.minimum_selection
                        >1) && custom.minimum_selection_required ? '('+languageStrings.select_any || 'Select any' + ' ' +
                        +custom.minimum_selection+ ')': (languageStrings.optional || 'Optional')}}</span>

                    </p>
                    <div style="visibility: visible" *ngIf=!custom.is_check_box>
                        <p-dropdown
                            [options]="custom.customize_options"
                            [optionLabel]="'optionLabel'"
                            placeholder="{{languageStrings.select_option || 'Select an option'}}"
                            (onChange)=addNewAddon($event.value,-1,currentProduct,custom,custIndex,customizedObj)>
                        </p-dropdown>
                    </div>
                    <div *ngIf=custom.is_check_box>
                        <p-multiSelect
                            [options]="custom.customize_options"
                            [optionLabel]="'optionLabel'"
                            selectedItemsLabel="{0} Items Selected"
                            placeholder="Choose"
                            (onChange)=addNewAddon($event.itemValue,$event.value,currentProduct,custom,custIndex,customizedObj)>
                        </p-multiSelect>
                    </div>
                </div>
            </div>

        </div>
        <div style="display: flex;
        width: 100%;
        justify-content: flex-end;">
            <button mat-button
                class="dialog-cancel btn"
                (click)="resetDialog()"
                appBs
                >{{languageStrings.cancel || 'Cancel'}}</button>
            <button mat-button
                class="dialog-ok btn"
                (click)="addCustomization(0)"
                appColor
                bg="'true'"
                appBs
                [disabled]="currentProduct.quantity <= 0">
                <ng-container>{{languageStrings.add_for || 'Add for'}}</ng-container> {{(config.is_multi_currency_enabled  && currentProduct.payment_settings? currentProduct.payment_settings.symbol : currency)+' '+
                        (((currentProduct.totalPrice*currentProduct.quantity) + sideOrderTotalAmount) |decimalConfig)}}
            </button>
        </div>
        <div class="text-center min_sel_error">
                <span>{{minSelectAddonError}}</span>
                <span>{{maxSelectAddonError}}</span>
            </div>
            <div class="text-center min_sel_error">
                <span>{{minSingleSelectAddonError}}</span>
              </div>
    </div>
</app-modal>

<div class="modal fade" id="productAlready" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="alreadytext" *ngIf="langJson"> {{ languageStrings.you_already_added_product_from_other_store_do_you_want_remove_that_from_cart || 'You have already added product from other store. Do you want to remove that from cart'}}?</h3>
            </div>
            <div class="modal-footer">
                <button mat-button class="dialog-cancel btn" (click)="resetProductDialog()" appBs>
          <ng-container>{{languageStrings.no ||'No'}}</ng-container>
        </button>
                <!--[ngStyle]="{ 'direction' : direction }"-->
                <button mat-button class="dialog-ok btn" (click)="removeFromCart()" appColor bg="'true'" appBs>
          <ng-container>{{languageStrings.yes ||'Yes'}}</ng-container>
        </button>
            </div>
        </div>
    </div>
</div>
<!-- Product Share Box -->
<app-modal [modalType]="modalType" (esc)="resetDialog()" (onClose)="resetDialog()" *ngIf="showProductShareBox">
  <div body style="padding : 20px">
    <div>
      <h4 class="modal-title padding-right120">
        {{(productShareData.layout_data && productShareData.layout_data.lines[0]) ? productShareData.layout_data.lines[0].data : ''}}
      </h4>
      <div class="share-close-btn">
        <div class="show-drop-box">
          <!-- share -->
          <svg xmlns="http://www.w3.org/2000/svg" width="21" height="24" viewBox="0 0 21 24">
            <g [attr.fill]="config.btn_color?config.btn_color:'#1a9943'">
              <path
                d="M20.13 3.789c0 1.7-1.379 3.079-3.08 3.079-1.7 0-3.078-1.379-3.078-3.079 0-1.7 1.379-3.079 3.079-3.079 1.7 0 3.078 1.379 3.078 3.079z"
                transform="translate(0 .478)" />
              <path
                d="M17.05 7.578c-2.089 0-3.788-1.7-3.788-3.789 0-2.09 1.7-3.789 3.789-3.789 2.09 0 3.789 1.7 3.789 3.789 0 2.09-1.7 3.79-3.79 3.79zm0-6.157c-1.305 0-2.367 1.063-2.367 2.368s1.062 2.368 2.368 2.368c1.306 0 2.368-1.063 2.368-2.368s-1.062-2.368-2.368-2.368zM20.13 18.945c0 1.7-1.379 3.08-3.08 3.08-1.7 0-3.078-1.38-3.078-3.08 0-1.7 1.379-3.078 3.079-3.078 1.7 0 3.078 1.378 3.078 3.078z"
                transform="translate(0 .478)" />
              <path
                d="M17.05 22.735c-2.089 0-3.788-1.7-3.788-3.79s1.7-3.789 3.789-3.789c2.09 0 3.789 1.7 3.789 3.79 0 2.089-1.7 3.789-3.79 3.789zm0-6.158c-1.305 0-2.367 1.063-2.367 2.368 0 1.306 1.062 2.369 2.368 2.369 1.306 0 2.368-1.063 2.368-2.369 0-1.305-1.062-2.368-2.368-2.368zM6.868 11.367c0 1.7-1.379 3.079-3.079 3.079-1.7 0-3.079-1.378-3.079-3.079 0-1.7 1.379-3.078 3.079-3.078 1.7 0 3.079 1.378 3.079 3.078z"
                transform="translate(0 .478)" />
              <path
                d="M3.789 15.156C1.699 15.156 0 13.457 0 11.367s1.7-3.789 3.789-3.789c2.09 0 3.79 1.7 3.79 3.79 0 2.089-1.7 3.788-3.79 3.788zm0-6.157c-1.306 0-2.368 1.063-2.368 2.368 0 1.306 1.062 2.368 2.368 2.368 1.306 0 2.368-1.062 2.368-2.368C6.157 10.062 5.095 9 3.79 9z"
                transform="translate(0 .478)" />
              <path
                d="M6.026 10.913c-.33 0-.65-.172-.825-.479-.258-.453-.099-1.032.355-1.292l8.79-5.01c.453-.261 1.032-.102 1.292.353.258.454.099 1.033-.355 1.292l-8.79 5.011c-.147.085-.308.125-.467.125zM14.814 18.728c-.159 0-.32-.04-.468-.125l-8.79-5.01c-.453-.26-.612-.838-.354-1.293.258-.454.838-.614 1.293-.354l8.79 5.011c.453.259.612.837.353 1.292-.175.307-.495.479-.824.479z"
                transform="translate(0 .478)" />
            </g>
          </svg>
          <div class="dropdown">
            <ul class="dropdown-menu share-drop-btn">
              <li>
                <a href="https://www.facebook.com/sharer/sharer.php?u={{domainName}}"
                  class="addthis_button_facebook at300b" target="_blank" title="Facebook"><span class="at-icon-wrapper"
                    style="background-color: rgb(59, 89, 152); line-height: 16px; height: 16px; width: 16px;">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                      viewBox="0 0 32 32" version="1.1" role="img" aria-labelledby="at-svg-facebook-1" title="Facebook"
                      alt="Facebook" class="at-icon at-icon-facebook" style="width: 16px; height: 16px;">
                      <title id="at-svg-facebook-1">Facebook</title>
                      <g>
                        <path
                          d="M22 5.16c-.406-.054-1.806-.16-3.43-.16-3.4 0-5.733 1.825-5.733 5.17v2.882H9v3.913h3.837V27h4.604V16.965h3.823l.587-3.913h-4.41v-2.5c0-1.123.347-1.903 2.198-1.903H22V5.16z"
                          fill-rule="evenodd"></path>
                      </g>
                    </svg>
                  </span>Facebook</a>
                <a href="https://twitter.com/intent/tweet?text={{productShareData.name}}&url={{domainName}}"
                  target="_blank" class="addthis_button_twitter at300b" title="Twitter"><span class="at-icon-wrapper"
                    style="background-color: rgb(29, 161, 242); line-height: 16px; height: 16px; width: 16px;"><svg
                      xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"
                      version="1.1" role="img" aria-labelledby="at-svg-twitter-2" title="Twitter" alt="Twitter"
                      class="at-icon at-icon-twitter" style="width: 16px; height: 16px;">
                      <title id="at-svg-twitter-2">Twitter</title>
                      <g>
                        <path
                          d="M27.996 10.116c-.81.36-1.68.602-2.592.71a4.526 4.526 0 0 0 1.984-2.496 9.037 9.037 0 0 1-2.866 1.095 4.513 4.513 0 0 0-7.69 4.116 12.81 12.81 0 0 1-9.3-4.715 4.49 4.49 0 0 0-.612 2.27 4.51 4.51 0 0 0 2.008 3.755 4.495 4.495 0 0 1-2.044-.564v.057a4.515 4.515 0 0 0 3.62 4.425 4.52 4.52 0 0 1-2.04.077 4.517 4.517 0 0 0 4.217 3.134 9.055 9.055 0 0 1-5.604 1.93A9.18 9.18 0 0 1 6 23.85a12.773 12.773 0 0 0 6.918 2.027c8.3 0 12.84-6.876 12.84-12.84 0-.195-.005-.39-.014-.583a9.172 9.172 0 0 0 2.252-2.336"
                          fill-rule="evenodd"></path>
                      </g>
                    </svg></span>Twitter</a>
                <a href="{{mailingLink}}" class="addthis_button_email at300b" target="_blank" title="Email">
                  <span class="at-icon-wrapper"
                    style="background-color: rgb(132, 132, 132); line-height: 16px; height: 16px; width: 16px;"><svg
                      xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"
                      version="1.1" role="img" aria-labelledby="at-svg-email-3" title="Email" alt="Email"
                      class="at-icon at-icon-email" style="width: 16px; height: 16px;">
                      <title id="at-svg-email-3">Email</title>
                      <g>
                        <g fill-rule="evenodd"></g>
                        <path
                          d="M27 22.757c0 1.24-.988 2.243-2.19 2.243H7.19C5.98 25 5 23.994 5 22.757V13.67c0-.556.39-.773.855-.496l8.78 5.238c.782.467 1.95.467 2.73 0l8.78-5.238c.472-.28.855-.063.855.495v9.087z">
                        </path>
                        <path
                          d="M27 9.243C27 8.006 26.02 7 24.81 7H7.19C5.988 7 5 8.004 5 9.243v.465c0 .554.385 1.232.857 1.514l9.61 5.733c.267.16.8.16 1.067 0l9.61-5.733c.473-.283.856-.96.856-1.514v-.465z">
                        </path>
                      </g>
                    </svg></span>Email</a>
                <a href="https://api.whatsapp.com/send?text={{domainName}}" class="addthis_button_whatsapp at300b"
                  target="_blank" title="WhatsApp"><span class="at-icon-wrapper"
                    style="background-color: rgb(77, 194, 71); line-height: 16px; height: 16px; width: 16px;"><svg
                      xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"
                      version="1.1" role="img" aria-labelledby="at-svg-whatsapp-4" title="WhatsApp" alt="WhatsApp"
                      class="at-icon at-icon-whatsapp" style="width: 16px; height: 16px;">
                      <title id="at-svg-whatsapp-4">WhatsApp</title>
                      <g>
                        <path
                          d="M19.11 17.205c-.372 0-1.088 1.39-1.518 1.39a.63.63 0 0 1-.315-.1c-.802-.402-1.504-.817-2.163-1.447-.545-.516-1.146-1.29-1.46-1.963a.426.426 0 0 1-.073-.215c0-.33.99-.945.99-1.49 0-.143-.73-2.09-.832-2.335-.143-.372-.214-.487-.6-.487-.187 0-.36-.043-.53-.043-.302 0-.53.115-.746.315-.688.645-1.032 1.318-1.06 2.264v.114c-.015.99.472 1.977 1.017 2.78 1.23 1.82 2.506 3.41 4.554 4.34.616.287 2.035.888 2.722.888.817 0 2.15-.515 2.478-1.318.13-.33.244-.73.244-1.088 0-.058 0-.144-.03-.215-.1-.172-2.434-1.39-2.678-1.39zm-2.908 7.593c-1.747 0-3.48-.53-4.942-1.49L7.793 24.41l1.132-3.337a8.955 8.955 0 0 1-1.72-5.272c0-4.955 4.04-8.995 8.997-8.995S25.2 10.845 25.2 15.8c0 4.958-4.04 8.998-8.998 8.998zm0-19.798c-5.96 0-10.8 4.842-10.8 10.8 0 1.964.53 3.898 1.546 5.574L5 27.176l5.974-1.92a10.807 10.807 0 0 0 16.03-9.455c0-5.958-4.842-10.8-10.802-10.8z"
                          fill-rule="evenodd"></path>
                      </g>
                    </svg></span>WhatsApp</a>
              </li>
            </ul>
          </div>
        </div>
        <i (click)="copyText()">
          <svg xmlns="http://www.w3.org/2000/svg" width="27" height="27" viewBox="0 0 27 27">
            <g [attr.fill]="config.btn_color?config.btn_color:'#1a9943'">
              <path
                d="M18.628 4.657H2.794C1.251 4.657 0 5.908 0 7.451v15.834c0 1.544 1.251 2.795 2.794 2.795h15.834c1.544 0 2.795-1.251 2.795-2.795V7.451c0-1.543-1.251-2.794-2.795-2.794zm.932 18.628c0 .515-.417.932-.932.932H2.794c-.514 0-.931-.417-.931-.932V7.451c0-.514.417-.931.931-.931h15.834c.515 0 .932.417.932.931v15.834z"
                transform="translate(.174 .74)" />
              <path
                d="M23.285 0H6.52C4.977 0 3.726 1.251 3.726 2.794c0 .515.417.932.931.932.515 0 .932-.417.932-.932 0-.514.417-.931.93-.931h16.766c.515 0 .932.417.932.931V19.56c0 .514-.417.931-.932.931-.514 0-.931.417-.931.932 0 .514.417.931.931.931 1.544 0 2.795-1.251 2.795-2.794V2.794C26.08 1.251 24.829 0 23.285 0z"
                transform="translate(.174 .74)" />
            </g>
          </svg>
        </i>
        <i (click)="resetDialog()">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="29" viewBox="0 0 30 29">
            <g fill="none" fill-rule="evenodd" transform="translate(.435)">
              <circle cx="14.499" cy="14.499" r="14.499"
                [attr.fill]="config.btn_color?config.btn_color:'#1a9943'" fill-rule="nonzero" />
              <path stroke="#FFF" stroke-linecap="round" stroke-width="1.16"
                d="M9.28 19.719L14.499 14.499 19.719 9.28M9.28 9.28L14.499 14.499 19.719 19.719" />
            </g>
          </svg>
        </i>
      </div>
      <!-- <div class="scroll" *ngIf="shareUrlSection" style="transform: translate3d(0px, 0px, 0px) scale(1);">
        <div id="addthis_icons" class="addthis_custom_sharing">
        </div>
      </div> -->
      <!--bindings={}-->
    </div>
    <div class="padding-top18">
      <div class="long-description-box" *ngIf="productShareData.long_description">
            <span  [innerHTML]="productShareData.long_description"></span>
      </div>
      <a class=" fluid-thumbnail-grid-image-item-link">
        <div style="border-radius: 5px;">
          <div class="text-center">
            <img class="share-prod-image"
              [src]="productShareData.image_url ? productShareData.image_url : 'assets/img/image-placeholder.svg'"
              [alt]="productShareData.name + ' image'">
          </div>
        </div>
      </a>
      <div class="home-fluid-thumbnail-grid-author">
        <div class="mb-5 p-detail-sec pad-t-0" style="font-weight: bold">
          <div
            *ngIf="appConfig.add_mrp_in_product_enabled && restaurantInfo.business_type === business_type.PRODUCT_MARKETPLACE && productShareData.mrp"
            class="mrp">
            <div class="text-styling"
              *ngIf="(config.show_product_price == 1 || productShareData.mrp > 0) && productShareData.mrp">
             {{languageStrings.mrp || 'MRP'}}
            </div>
            <div class="product-cl-data" *ngIf="config.show_product_price == 1 || productShareData.price > 0">
              {{currency+''+productShareData.mrp}}
            </div>
          </div>
          <div *ngIf="restaurantInfo.business_type === business_type.PRODUCT_MARKETPLACE" class="fl fl-dir-c"
            [ngClass]="{'price-text':productShareData.mrp}">
            <span [ngStyle]="{'display': (productShareData.mrp)?'inline':'none' }">{{languageStrings.price ||'Price'}}</span>
            <div [ngClass]="{'fl':productShareData.mrp}">
              <div class="discount-price"
                *ngIf="(config.show_product_price == 1 || productShareData.price > 0) && productShareData.original_price">
                {{currency + '' + (productShareData.original_price |decimalConfig) }}
              </div>
              <div class="product-cl-data" *ngIf="config.show_product_price == 1 || productShareData.price > 0">
                {{currency+''+productShareData.layout_data.lines[2] ? productShareData.layout_data.lines[2].data : ''}}
              </div>
            </div>
          </div>
          <div *ngIf="restaurantInfo.business_type === business_type.SERVICE_MARKETPLACE">
            <div class="discount-price"
              *ngIf="(config.show_product_price == 1 || productShareData.price > 0) && productShareData.original_price">
              {{currency + '' + (productShareData.original_price |decimalConfig) }}
            </div>
            <div class="product-cl-data" *ngIf="config.show_product_price == 1 || productShareData.price > 0">
              {{currency+''+productShareData.layout_data.lines[2] ? productShareData.layout_data.lines[2].data : ''}}
            </div>
          </div>
          <div
            *ngIf="!(productShareData.inventory_enabled && (productShareData.available_quantity <= 0)) && addon_layout_type != 1"
            class="p-action-btn">
            <div *ngIf="productShareData.maximum_quantity==1">
              <div
                [ngStyle]="{'visibility':(productBool[productShareData.product_id]) ? 'visible':'hidden','height':(productBool[productShareData.product_id]) ? 'auto' : '0px'}">
                <button class="btn-sm addremovebtn"
                  (click)="decreamentQuantity(productShareData,productShareData.product_id,productPosition)">{{removeBtnTxt || 'Remove'}}</button>
              </div>
              <div *ngIf="!productBool[productShareData.product_id]">
                <button class="btn-sm addremovebtn"
                  (click)="checkBusinessTypeBeforeAdding(productShareData,productPosition,storePosition)">{{addBtnTxt || 'Add'}}</button>
              </div>
            </div>
            <div
              [ngStyle]="{'display':(productShareData.layout_data && productShareData.layout_data.buttons && (productShareData.layout_data.buttons[0].type != 1 && productShareData.layout_data.buttons[0].type != 4)) ? 'flex':'none'}"
              *ngIf="productShareData.maximum_quantity!=1">
              <div class="p-minus"
                (click)="decreamentQuantity(productShareData,productShareData.product_id,productPosition)"
                [ngStyle]="{'visibility':(productBool[productShareData.product_id]) ? 'visible':'hidden'}" appBs>
                <svg width="10" height="7" viewBox="0 0 10 2">
                  <path fill="#858585" fill-rule="nonzero" d="M0 1.75h10V.25H0z" />
                </svg>
              </div>
              <div [ngStyle]="{'visibility':(productBool[productShareData.product_id]) ? 'visible':'hidden'}"
                class="p-quantity custom">
                <span *ngIf="checkUniq(productShareData)"></span>
                <input [disabled]="!productShareData?.isUniq" appNumberOnly maxlength="4" aria-label="quantity"
                  class="p-quantity inputBulkOrderClass" [(ngModel)]="productQuantity[productShareData.product_id]"
                  (blur)="onBlurInputFun(productShareData,productShareData.product_id,productPosition,productQuantity[productShareData.product_id])">
              </div>
              <div
                *ngIf="productBool[productShareData.product_id] && !(productShareData.customization ? productShareData.customization.length != 0 : 0)"
                class="p-plus" [style.background-color]="config.btn_color?config.btn_color:'#1a9943'" appBs
                (click)="increaseQuantity(productShareData,productShareData.product_id,productPosition)">
                <!--appColor bg='true'-->
                <svg width="11" height="11" viewBox="0 0 10 10">
                  <path fill="#FFF" fill-rule="nonzero"
                    d="M5.765 10V5.765H10v-1.53H5.765V0h-1.53v4.235H0v1.53H4.235V10z" />
                </svg>
              </div>
              <div
                *ngIf="productBool[productShareData.product_id] && (productShareData.customization ? productShareData.customization.length != 0 : 0)"
                class="p-plus" [style.background-color]="config.btn_color?config.btn_color:'#1a9943'" appBs
                (click)="checkBusinessTypeBeforeAdding(productShareData,productPosition,storePosition)">
                <!--addCart(product,i) appColor bg='true'-->
                <svg width="11" height="11" viewBox="0 0 10 10">
                  <path fill="#FFF" fill-rule="nonzero"
                    d="M5.765 10V5.765H10v-1.53H5.765V0h-1.53v4.235H0v1.53H4.235V10z" />
                </svg>
              </div>
              <div *ngIf="!productBool[productShareData.product_id]" class="p-plus"
                (click)="checkBusinessTypeBeforeAdding(productShareData,productPosition,storePosition)"
                [style.background-color]="config.btn_color?config.btn_color:'#1a9943'" appBs>
                <!--addCart(product,i)  appColor bg='true'-->
                <svg width="11" height="11" viewBox="0 0 10 10">
                  <path fill="#FFF" fill-rule="nonzero"
                    d="M5.765 10V5.765H10v-1.53H5.765V0h-1.53v4.235H0v1.53H4.235V10z" />
                </svg>
              </div>
            </div>

            <div
              [ngStyle]="{'display':(productShareData.layout_data && productShareData.layout_data.buttons && (productShareData.layout_data.buttons[0].type == 1 || productShareData.layout_data.buttons[0].type == 4)) ? 'flex':'none'}">
              <div class="p-minus t-btn" style="height:28px !important;line-height: 23px;"
                (click)="decreamentQuantity(productShareData,productShareData.product_id,productPosition)"
                [ngStyle]="{'display':(productBool[productShareData.product_id]) ? 'flex':'none'}" appBs>
                {{storeData.button_type && storeData.button_type.button_names ? storeData.button_type.button_names.remove : 'Remove' }}
              </div>
              <div *ngIf="!productBool[productShareData.product_id]" style="height:28px !important;"
                class="p-plus t-btn" [style.background-color]="config.btn_color?config.btn_color:'#1a9943'" appBs
                (click)="checkBusinessTypeBeforeAdding(productShareData,productPosition,storePosition)">
                <!--addCart(product,i) appColor bg='true'-->
                {{storeData.button_type && storeData.button_type.button_names ? storeData.button_type.button_names.add : 'Add' }}
              </div>
            </div>

          </div>
          <!-- <div *ngIf="productShareData.inventory_enabled && (productShareData.available_quantity <= 0)"
              class="p-action-stock"
              [ngStyle]="{ 'direction' : direction }">
              <ng-container i18n>{{terminology.OUT_OF_STOCK || 'Out of Stock'}}</ng-container>
            </div> -->
        </div>
        <div *ngIf="productShareData.inventory_enabled && (productShareData.available_quantity <= 0)"
          class="p-action-stock grid-stock" [ngStyle]="{ 'direction' : direction }">
          <ng-container>{{terminology.OUT_OF_STOCK || 'Out of Stock'}}</ng-container>
        </div>
        <div *ngIf="productShareData && productShareData.discount" class="discount-percent">
          {{productShareData.discount}}% <ng-container>{{languageStrings.discount || 'Discount'}}</ng-container>
          <ng-container *ngIf="productShareData.max_discount_amount">
            <ng-container>{{languageStrings.upto || 'Upto'}}</ng-container>
            {{currency + productShareData.max_discount_amount}}
          </ng-container>
        </div>
        <div *ngIf="config.show_service_time && productShareData.service_time" class="short-decription">
          <span class="">
            <ng-container>{{languageStrings.service_time || 'Service Time'}}</ng-container>:
            {{productShareData.service_time | serviceTimePipe : [productShareData.unit_type, productShareData.unit_in_text]}}
          </span>
        </div>
        <div
          *ngIf="config.is_recurring_enabled && storeData.is_recurring_enabled && productShareData.is_recurring_enabled"
          class="descriptionP">
          <span class="subscription-avail">
            <i class="fa fa-refresh"></i>
            <ng-container>{{terminology.SUBSCRIPTION_AVAILABLE || 'Subscription Available'}}</ng-container>
          </span>
        </div>
        <div *ngIf="productShareData.layout_data && productShareData.layout_data.lines[1]">
          <span class="short-decription  pointer">
            <span [innerHTML]="productShareData.layout_data.lines[1].data"></span>
          </span>
        </div>
      </div>
    </div>
  </div>
</app-modal>

<app-product-template (closePopup1)="closePopup()" [productData]="currentProductForTemplate" *ngIf="showProductTemplate " [currency]="((config.is_multi_currency_enabled && currentProductForTemplate && currentProductForTemplate.payment_settings && currentProductForTemplate.payment_settings.symbol) ? currentProductForTemplate.payment_settings.symbol : currency)"></app-product-template>
<app-footer></app-footer>
